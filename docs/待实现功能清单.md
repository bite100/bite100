# 待实现功能清单

> 基于 [概念设计文档](./概念设计文档.md)、[规划与路线图](./规划与路线图.md)、[Phase3-设计文档](./Phase3-设计文档.md) 整理，对照当前代码实现状态。

---

## 一、近期可做（高优先级）

### 1.1 体验与稳定性

| 项 | 说明 | 状态 |
|----|------|------|
| **流动性补充** | 为 Sepolia AMM 池补充流动性，便于真实 Swap 与演示 | ✅ 已完成（脚本 + 文档） |
| **流动性贡献分** | 节点注入流动性可获得贡献分，激励提供流动性 | ✅ 已完成（合约扩展 + 文档） |
| **治理执行验证** | 投票期结束后执行已通过提案，验证 Governance → Settlement/AMMPool 的完整链路 | ✅ 已完成（前端界面 + 脚本 + 文档） |
| **错误与加载统一** | 统一前端错误提示、加载态，移动端网络异常时的重试/提示 | ✅ 已完成 |

### 1.2 节点与数据

| 项 | 说明 | 状态 |
|----|------|------|
| **节点发现优化** | Bootstrap 与 DHT 发现策略，多区域/多运营商下的连通性 | ✅ 已完成 |
| **订单簿入口** | 前端预留「订单簿」入口，为 Phase 3 链下撮合预留；可先只读展示节点同步的订单簿快照 | ✅ 已完成 |

---

## 二、Phase 3 可选功能（中优先级）

### 2.1 多节点与共识

| 项 | 说明 | 状态 |
|----|------|------|
| **分片按交易对** | 按 pair 分片，不同交易对由不同撮合节点负责（方案 B） | ✅ 已完成（完整集成 + 文档） |
| **多节点共识** | 多个撮合节点对同一订单簿做共识（如 BFT），输出一致撮合结果（方案 C） | ✅ 已完成（BFT 共识 + Leader 选举 + 订单簿同步） |

### 2.2 抗 Sybil 机制

| 项 | 说明 | 状态 |
|----|------|------|
| **质押机制** |中继/撮合节点入网需质押一定代币；作恶或长期离线可罚没 | ❌ 不做（节点入网无任何条件） |
| **准入机制** | Bootstrap 白名单 + 邀请；开放后改为「质押 + 信誉」或无需准入但奖励仅给高信誉节点 | ✅ 已完成（实现"无需准入但按信誉分分配奖励"） |

### 2.3 结算优化

| 项 | 说明 | 状态 |
|----|------|------|
| **批量结算** | Trade 批量打包为多笔一次提交以省 Gas | ✅ 已完成 |
| **默克尔证明** | 对一批 Trade 做默克尔树，根上链，便于审计 | ✅ 已完成 |

### 2.4 治理扩展

| 项 | 说明 | 状态 |
|----|------|------|
| **Timelock** | 提案通过后可设 2 天延迟便于紧急取消 | ✅ 已完成 |
| **提案类型扩展** | 支持更复杂的提案类型（如多步骤、条件执行等） | ✅ 已完成 |

---

## 三、Phase 4 生态扩张（长期）

### 3.1 手机端

| 项 | 说明 | 状态 |
|----|------|------|
| **iOS 原生 App** | 在现有 PWA 基础上开发 iOS 原生应用 | ⏳ 待做 |
| **Android 原生 App** | 在现有 PWA 基础上开发 Android 原生应用 | ⏳ 待做 |
| **React Native / Flutter** | 跨平台移动端开发（替代原生方案） | ⏳ 待做 |

### 3.2 跨链

| 项 | 说明 | 状态 |
|----|------|------|
| **目标链选择** | 明确目标链（如 Base、Arbitrum） | ✅ 已完成（Base、Arbitrum、Polygon、Optimism） |
| **多链部署** | 在多条链上部署合约 | ✅ 已完成（部署脚本 + 配置） |
| **前端链切换** | 前端支持切换不同链 | ✅ 已完成（链切换组件 + Hook） |
| **跨链桥接** | 实现跨链资产转移与交易 | ✅ 已完成（LayerZero OApp 合约 + 前端界面） |

### 3.3 治理代币与 DAO

| 项 | 说明 | 状态 |
|----|------|------|
| **治理代币发行** | 设计并发行原生治理代币 | ❌ 不做（不发行代币） |
| **代币质押** | 质押机制与贡献/治理的绑定 | ❌ 不做（不发行代币，无需质押） |
| **DAO 扩展** | 更完善的 DAO 治理机制 | ✅ 已完成（提案元数据、取消机制、委托投票、投票权重） |

### 3.4 第三方接入

| 项 | 说明 | 状态 |
|----|------|------|
| **公开 API 文档** | 供第三方前端或机器人接入合约与节点数据 | ✅ 已完成 |
| **SDK 开发** | 提供 SDK 便于第三方集成 | ✅ 已完成 |
| **示例代码** | 提供第三方接入的示例代码 | ✅ 已完成 |
| **合规说明** | 第三方接入的合规要求与说明 | ✅ 已完成（已在公开API文档中） |

---

## 四、其他待完善项

### 4.1 文档与代码一致性

| 项 | 说明 | 状态 |
|----|------|------|
| **P2P节点整合交易撮合指南** | 文档中标记的 TODO：实现 ECDSA 签名验证、取消订单签名验证 | ✅ 已完成 |

### 4.2 主网部署

| 项 | 说明 | 状态 |
|----|------|------|
| **主网试运行** | 按主网部署指南完成一次主网部署，验证前端 + 治理在主网的表现 | ✅ 已完成（完整指南 + 检查清单 + 测试报告模板） |

---

## 五、优先级建议

### 短期（1-2 周）
1. 流动性补充（Sepolia AMM 池）
2. 治理执行验证（完整闭环）
3. 错误与加载统一（前端体验）

### 中期（1-2 月）
1. 节点发现优化
2. 订单簿入口（前端）
3. 批量结算（Gas 优化）

### 长期（3-6 月+）
1. Phase 4 功能（手机端、跨链、治理代币、第三方接入）
2. 多节点共识（方案 B/C）
3. 质押与准入机制

---

*本文档随项目进展随时更新；完成某项后请同步更新 [规划与路线图](./规划与路线图.md) 与对应 Phase 文档。*
